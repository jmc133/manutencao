<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999xhtml" xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
   <!-- Adicionando JQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>  
<!-- Script para calendario -->     
<script type="text/javascript" src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js"></script>  
<link href="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.css" rel="stylesheet"type="text/css"/>               
            
<meta charset="UTF-8">
<title>Solicitações</title>

<a href="/index2"><h5>Voltar ao Index</h5></a>
<div align="center" >
<h5> DLog</h5><br>
<h5>Solicitações</h5><br>
	<div class="input-field col s6" style="font-size: 14px; color: Blue">
	  <b> <span th:text="${msg}"></span></b>
	</div>	
</div>	
<style type="text/css">
table.striped>tbody>tr:nth-child(odd){background-color: rgba(158,154,154,0.5); }
form input[type=submit]{ color:PowderBlue;}
table{
width: 96%;
}
table{ font-size: 12px}
div{font-size: 9px;}
table td, table th{
border: 1px solid grey;
}
fieldset{
margin-left: 4%; margin-right: 4%;
}
form{
margin-left: 4%; margin-right: 4%; font-size: 11px;}
table th{
background: #eee;
 }
</style>
</head>
<body>
<div align="center">
<img src="https://files.cercomp.ufg.br/weby/up/1302/o/DLOG_UFG_PRETO.svg?1613059566"
     alt="DLOG_UFG_PRETO.svg"
     width="180"
     height="70"
      
     > 
<img src="https://files.cercomp.ufg.br/weby/up/1/o/Marca_UFG_cor_completa_horizontal.png"
     alt="logoUFGDlog.jpg"
     width="180"
     height="100">
<h5>Formulário de solicitação</h5><br>
</div>

<form action="salvaedicaosolcitacao" method="post" th:object="${solicita}" enctype="multipart/form-data" style="background-color: NavajoWhite;"
			class="col s15" id="FormEdicao">
	  <fieldset>
	   <legend>Formulário de solicitação</legend>
	  			<div class="row">
				<div class="input-field col s1">
					<label for="id" class="active">Id</label>
					<input name="id" th:field="*{id}" id="id" readonly="readonly"class="validate"> 
				</div>
    			
			 	<div class="input-field col s2">
					<label for="unidade" class="active" style="color: Black">Unidade</label>
					<select class="browser-default" th:field="*{unidade}" id="unidade" name="unidade" style="background-color:NavajoWhite " >
					 <option th:each = "o : ${orgao}" th:value="${o.cd_orgao}" th:text="${o.sg_orgao}">
					</select>
				</div>
				<div class="input-field col s3">
					<label for="solicitante" class="active">Solicitante</label>
					<input name="solicitante" th:field="*{solicitante}" id="solicitante" readonly="readonly"class="validate"> 
				</div>				
				<div class="input-field col s3">
					<label for="requisicao" class="active" style="color: Black">Requisição</label>
					<select class="browser-default" th:field="*{requisicao}" id="requisicao" name="requisicao" style="background-color:NavajoWhite ">
					 <option th:each = "r : ${req}" th:value="${r.cod_req}" th:text="${r.requisicao}">
					</select> 
				</div>	
				<div class="input-field col s3">
					<label for="especie" class="active" style="color: Black">Especie</label>
					<select class="browser-default" th:field="*{especie}" id="especie" name="especie" style="background-color:NavajoWhite ">
					 <option th:each = "e : ${especie}" th:value="${e.cd_especie}" th:text="${e.especie}">
					</select> 
				</div>	
				<div class="input-field col s7">
					<label for="motivo" class="active">Motivo</label>
					<input name="motivo" th:field="*{motivo}" id="motivo" readonly="readonly"class="validate"> 
				</div>							

				<div class="input-field col s3">
					<label for="data_ini" class="active" style="color: Black">Data Inicial</label>
					 <input id="data_ini" name="data_ini" th:field="*{data_ini}"class="validate" type="date" style="background-color:NavajoWhite " readonly="readonly">
				</div>
				<div class="input-field col s3">
					<label for="data_fim" class="active" style="color: Black">Data Final</label>
					 <input id="data_fim" name="data_fim" th:field="*{data_fim}"class="validate" type="date" style="background-color:NavajoWhite " readonly="readonly">
				</div>
				<div class="input-field col s3">
					<label for="data_solicitacao" class="active" style="color: Black">Data solicitação</label>
					 <input id="data_solicitacao" name="data_solicitacao" th:field="*{data_solicitacao}"class="validate" type="date" style="background-color:NavajoWhite " readonly="readonly">
				</div>									

				<div class="input-field col s3">
					<label for="destino" class="active" style="color: Black">Destino</label>
					<input id="destino" name="destino" th:field="*{destino}"class="validate" type="text" style="background-color:NavajoWhite " readonly="readonly">
				</div><br/>	
				<div class="input-field col s3">
					<label for="contato" class="active" style="color: Black">Contato Telefonico</label>
					<input id="contato" name="contato" th:field="*{contato}"class="validate" type="text" style="background-color:NavajoWhite " readonly="readonly">
				</div><br/>						
		
				<div class="input-field col s2">
				  <label for="aceite" class="active" style="color: Black">Aceite</label><br>
		          <select class="browser-default" th:field="*{aceite}" id="aceite" name="aceite" style="background-color:NavajoWhite">
		            <option value="0">-</option>
		            <option value="N">Nao</option>
		            <option value="S">Sim</option>
		          </select> 
		        </div>  				
	  			<div class="input-field col s6">
					<label for="observacao" class="active" style="color: Black">Observação</label><br>
					<input id="observacao" name="observacao" th:field="*{observacao}"class="validate" type="text" style="background-color:NavajoWhite ">
				</div>	
		       <div class="input-field col s2">
		        <input  class="waves-effect waves-light btn" type="submit" value="Salvar">			        
	           </div>
	           <div class="input-field col s2">
	           <td><a class="waves-effect waves-light btn" th:href="@{/todassolicitacoes}">Todas</a></td>
	           </div>
  			    																																			
	  </fieldset>
	</form>
	<div class="input-field col s6" style="font-size: 14px; color: Blue">
	  <b> <span th:text="${msg}"></span></b>
	</div>	
   <fieldset>
    <legend>Solicitações</legend>
        <table class="striped">
         <thead>
         <tr>
          <th>Id</th>
          <th>Início</th>
          <th>Fim</th>
          <th>Destino</th>
          <th>Solicitante</th>
          <th>Unidade</th>
          <th>Editar</th>

         </tr>         
         </thead>
       <tr th:each= "s:${solicitacao}" th:if="${s.id !=null}" >
          <td th:text="${s.id}"></td>
          <td th:text="${s.data_ini}"></td>
          <td th:text="${s.data_fim}"></td>
          <td th:text="${s.destino}"></td>
          <td th:text="${s.solicitante}"></td>   
          <td th:text="${s.sg_orgao}"></td>
          <td><a th:if="${s.aceite ==null}" th:href="@{/editarsolicitacao/{id}(id=${s.id})}">Editar</a></td>        
         </tr>         
        </table>            
   </fieldset>	
   <fieldset >
    <legend>Agendamentos do periodo</legend>
        <table class="striped">
         <thead>
         <tr>
          <th>Placa</th>
          <th>Semana</th>
          <th>Periodo</th>
          <th>Destino</th>
          <th>Dois Motoristas</th>
          <th>Requisicao</th>
          <th>Sequencia</th>
         </tr>         
         </thead>
       <tr th:each= "f:${fantagenda}" th:if="${f.id !=null}" >
          <td th:text="${f.placa}"></td>
          <td th:text="${f.semana}"></td>
          <td th:text="${f.periodo}"></td>
          <td th:text="${f.destino}"></td>
          <td th:text="${f.dois_motoristas}"></td>   
          <td th:text="${f.requisicao}"></td>
          <td th:text="${f.sequencia}"></td>
         </tr>          
        </table>            
   </fieldset>	

</body>
</html>