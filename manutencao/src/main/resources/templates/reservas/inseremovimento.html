<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999xhtml" xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
   <!-- Adicionando JQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>  
<!-- Script para calendario -->     
<script type="text/javascript" src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js"></script>  
<link href="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.css" rel="stylesheet"type="text/css"/> 
<meta charset="utf-8">
<title>Formulario para inserir movimento avulso</title>


<style type="text/css">
fieldset{
	margin-left: 4%; margin-right: 4%;
	}
	form{
	margin-left: 4%; margin-right: 4%}
</style>
</head>
<body>
<div class="row" style="margin-left: 6%;"> 
<a href="/index2"><h5>Voltar ao Index</h5></a>
</div>  
<div align="center">
<img src="https://files.cercomp.ufg.br/weby/up/1302/o/DLOG_UFG_PRETO.svg?1613059566"
     alt="DLOG_UFG_PRETO.svg"
     width="180"
     height="70"
      
     > 
<img src="https://files.cercomp.ufg.br/weby/up/1/o/Marca_UFG_cor_completa_horizontal.png"
     alt="logoUFGDlog.jpg"
     width="180"
     height="100">
<h5>Formulario de inserção de movimento</h5><br>
</div>
<div th:each = "m : ${msg}" style="font-size: 15px; color: red; margin-left: 6%;">
 <b><span th:text="${m}"></span></b>
</div>

 <fieldset style="background-color: Peru;">
 
   <form action="salvarmovimento" th:object="${movimento}" class="col s12"style="background-color: PaleGoldenrod;" id="formmovimento" method="post">
   <b><legend style="color: blue;">Cadastro de movimentação</legend></b>
    <div class="row">
      	<div class="input-field col s1">
		 <label for="id" class="active">Id</label> 
		 <input name="id" th:field="*{id}" id="id" readonly="readonly"class="validate"> 
	   </div>
      	<div class="input-field col s2">
		 <label for="contato" class="active">Contato</label> 
		 <input name="contato" th:field="*{contato}" id="contato"  class="validate"> 
	   </div>	   
      	<div class="input-field col s2">
		 <label for="solicitante" class="active">Solicitante</label> 
		 <input name="solicitante" th:field="*{solicitante}" id="solicitante"  class="validate"> 
	   </div> 
	   <div class="input-field col s3">
	    	<label for="fk_req" class="active" style="color: DarkGreen">Requisicao</label>
		    <select class="browser-default" th:field="*{fk_req}" id="fk_req" name="fk_req" style="background-color: PaleGoldenrod;">
		    <option th:each = "r : ${req}" th:value="${r.cod_req}" th:text="${r.requisicao}">
		    </select>
	   </div>
      	<div class="input-field col s3">
		 <label for="destino" class="active">Destino</label> 
		 <input name="destino" th:field="*{destino}" id="destino"  class="validate"> 
	   </div>	
      	<div class="input-field col s2">
		 <label for="data_est" class="active">Data Est</label> 
		 <input name="data_est"  id="data_est"  th:field="*{data_est}" class="validate" type="datetime-local"> 
	   </div>	 
   
      	<div class="input-field col s2">
		 <label for="data_s" class="active">Data Saida</label> 
		 <input name="data_s"  id="data_s"  th:field="*{data_s}" class="validate" type="datetime-local" > 
	   </div>
   
       <div class="input-field col s2">
		 <label for="data_r" class="active">Data Retorno</label> 
		 <input name="data_r"  id="data_r"  th:field="*{data_r}" class="validate" type="datetime-local"> 
	   </div>
   
       <div class="input-field col s2">
		 <label for="km_s" class="active">Km Saida</label> 
		 <input name="km_s"  id="km_s" th:field="*{km_s}" class="validate" type="number"> 
	   </div>
       <div class="input-field col s2">
		 <label for="km_r" class="active">Km Retorno</label> 
		 <input name="km_r"  id="km_r" th:field="*{km_r}" class="validate" type="number"> 
	   </div>	
       <div class="input-field col s6">
		 <label for="ocupantes" class="active">Ocupantes</label> 
		 <input name="ocupantes"  id="ocupantes" th:field="*{ocupantes}" class="validate" type="text"> 
	   </div>	 
       <div class="input-field col s6">
		 <label for="servico" class="active">Servico</label> 
		 <input name="servico"  id="servico" th:field="*{servico}" class="validate" type="text"> 
	   </div>	
	   <div class="input-field col s3">
	    	<label for="fk_veiculos" class="active" style="color: DarkGreen">Veiculo</label>
		    <select class="browser-default" th:field="*{fk_veiculos}" id="fk_veiculos" name="fk_veiculos" style="background-color: PaleGoldenrod;">
		    <option th:each = "v : ${veiculos}" th:value="${v.patrimonio}" th:text="${v.placa_atual+' - '+v.tipo}">
		    </select>
	   </div>
	   <div class="input-field col s3">
	    	<label for="fk_uni" class="active" style="color: DarkGreen">Unidade</label>
		    <select class="browser-default" th:field="*{fk_uni}" id="fk_uni" name="fk_uni" style="background-color: PaleGoldenrod;">
		    <option th:each = "u : ${uni}" th:value="${u.cd_orgao}" th:text="${u.sg_orgao}">
		    </select>
	   </div>	
	   <div class="input-field col s4">
	    	<label for="fk_motorista" class="active" style="color: DarkGreen">Motorista</label>
		    <select class="browser-default" th:field="*{fk_motorista}" id="fk_motorista" name="fk_motorista" style="background-color: PaleGoldenrod;">
		    <option th:each = "p : ${pessoa}" th:value="${p.cd_pessoa_func}" th:text="${p.nm_pessoa_func}">
		    </select>
	   </div>
	   <div class="input-field col s2">
	    	<label for="evento" class="active" style="color: DarkGreen">Evento</label>
		    <select class="browser-default" th:field="*{evento}" id="evento" name="evento" style="background-color: PaleGoldenrod;">
		    <option th:each = "e : ${evento}" th:value="${e.codigo}" th:text="${e.evento}">
		    </select>
	   </div>
      <div class="input-field col s6">
		 <label for="observacoes" class="active">Observacoes</label> 
		 <input name="observacoes"  id="observacoes" th:field="*{observacoes}" class="validate" type="text"> 
	   </div>	
			 <div class="input-field col s6">
				<input class="waves-effect waves-light btn" type="submit" value="Salvar">
				<td><a  class="waves-effect waves-light btn" th:href="@{/formmovimento}">Novo</a></td>	
			 </div>		      		   		      	   	        	   		   	           
    </div>   
   </form>

  </fieldset>
  <div class="container">
   <div class="row">
   <div class="col-4"> 
   <div th:each = "m : ${msg}" style="font-size: 15px; color: red;">
      <b><span th:text="${m}"></span></b>
     </div>   
   <fieldset>
    <form action="buscarmovimento" >
    <b> <legend style="color: blue;">Pesquisar movimento pôr data estipulada</legend></b>
      
         <div > 
		 <label for="data_estipulada" class="active">Data inicial</label> 
		 <input name="data_estipulada"  id="data_estipulada"  class="validate" type="datetime-local"> 
		 </div>
		 <div >
		  <label for="data_estipulada1" class="active">Data final</label> 
		  <input name="data_estipulada1"  id="data_estipulada1"  class="validate" type="datetime-local"> 
		 <input type="submit" value="Buscar" class="waves-effect waves-light btn">
	   </div>  
	 </form>  
   </fieldset>
 
 </div>
  <div class="col-4">
  <fieldset>  
    
   <form action="buscamovimentoporkm">  
   <b><legend style="color: blue;">Pesquisar movimento pôr km a maior</legend></b>
    
       <div class="input-field col s3">
		 <label for="km_retorno" class="active">Km a ser pesquisado</label> <br>
		 <input name="km_retorno"  id="km_retorno"  class="validate" type="number"> 		 
	   </div>  
	   <div class="input-field col s5">
	   	 	<label for="placa" class="active" >Veiculo</label>
		    <select class="browser-default"  id="placa" name="placa" >
		    <option th:each = "v : ${veiculos}" th:value="${v.patrimonio}" th:text="${v.placa_atual+' - '+v.tipo}">
		    </select>
	   <input type="submit" value="Buscar" class="waves-effect waves-light btn">
	   </div>
	 </form>  
   </fieldset>
  </div>
  <div class="col-4">
  <fieldset>  
    
   <form action="buscamovimentoporid">  
    <b><legend style="color: blue;">Pesquisar pelo número do movimento</legend></b>
    
	   <div class="input-field col s5">
		 <label for="nr_movimento" class="active">Digite o Nº do movimento</label> <br>
		 <input name="nr_movimento"  id="nr_movimento"  class="validate" type="number"> 
	   <input type="submit" value="Buscar" class="waves-effect waves-light btn">
	   </div>
	 </form>  
   </fieldset>
  </div>  
  </div>
</div> 
 <fieldset>
  <legend>Lista de movimentos</legend>
     <table class="striped">
   <thead>
    <tr>
     <th>Id</th>
     <th>Nome</th>
     <th>Data Estipulada</th>
     <th>Destino</th>
     <th>Requisição</th>
     <th>Orgão</th>
     <th>Placa</th>
     <th>Km Retorno</th>
     <th>Editar</th>
     <th>Excluir</th>
     </tr>
     </thead>
     <tr th:each="mv:${movedit}">
     <td th:text="${mv.cd_saida1}"></td>  
     <td th:text="${mv.pri_nome}"></td>    
     <td th:text="${mv.data_est}"></td>   
     <td th:text="${mv.s_destino}"></td>
     <td th:text="${mv.requisicao}"></td>  
     <td th:text="${mv.sg_orgao}"></td>    
     <td th:text="${mv.placa_atual}"></td>   
     <td th:text="${mv.km_r}"></td>       
     <td><a th:if="${mv.cd_saida1!=null}" th:href="@{/movimentoporid/{cd_saida1}(cd_saida1=${mv.cd_saida1})}">Editar</a></td>   
     <td><a th:if="${mv.km_s==null&&mv.cd_saida1!=null}" style ="color:Crimson;" th:href="@{/excluirmovimento/{cd_saida1}(cd_saida1=${mv.cd_saida1})}">Excluir</a></td>
     </tr>
  </table> 
 </fieldset>

</body>
</html>